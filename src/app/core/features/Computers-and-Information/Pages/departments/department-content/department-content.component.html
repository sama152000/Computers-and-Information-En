@if (department && currentSection) {
<div class="department-content">
  <div class="content-header">
    <h2 class="content-title">
      <i [class]="currentSection.icon + ' me-3'"></i>
      {{ currentSection.title }}
    </h2>
  </div>

  <div class="content-body">
    <!-- About Section -->
    @if (currentSection.id === 'about') {
    <div class="section-content">
      <div class="department-overview">
        <!-- Featured Image -->
        <div class="featured-image" *ngIf="getFeaturedImage()">
          <img [src]="getFeaturedImage()" [alt]="department.name" />
        </div>

        <h3>{{ department.name }}</h3>
        <p class="subtitle" *ngIf="department.subTitle">
          {{ department.subTitle }}
        </p>
        <p class="description">{{ department.about }}</p>

        <!-- Department Details -->
        <div class="details-section" *ngIf="departmentDetails.length > 0">
          <div class="detail-item" *ngFor="let detail of departmentDetails">
            <h4>{{ detail.title }}</h4>
            <p>{{ detail.content }}</p>
          </div>
        </div>
      </div>
    </div>
    }

    <!-- Vision & Mission Section -->
    @if (currentSection.id === 'vision') {
    <div class="section-content">
      <div class="vm-cards">
        <div class="vm-card vision-card">
          <div class="vm-icon"><i class="pi pi-eye"></i></div>
          <h4>Department Vision</h4>
          <p class="vision-text">
            {{ department.vision || "No vision available." }}
          </p>
        </div>
        <div class="vm-card mission-card">
          <div class="vm-icon"><i class="pi pi-compass"></i></div>
          <h4>Department Mission</h4>
          <p class="mission-text">
            {{ department.mission || "No mission available." }}
          </p>
        </div>
      </div>
    </div>
    }

    <!-- Objectives Section -->
    @if (currentSection.id === 'objectives') {
    <div class="section-content">
      <div class="objectives-content">
        <h3>Department Goals & Objectives</h3>
        <div
          class="objectives-grid"
          *ngIf="department.goals && department.goals.length > 0"
        >
          <div class="objective-card" *ngFor="let goal of department.goals">
            <div class="goal-number">{{ goal.index }}</div>
            <p>{{ goal.goalName }}</p>
          </div>
        </div>
        <p
          *ngIf="!department.goals || department.goals.length === 0"
          class="text-muted"
        >
          No objectives available.
        </p>
      </div>
    </div>
    }

    <!-- Programs Section -->
    @if (currentSection.id === 'programs') {
    <div class="section-content">
      <div class="programs-content">
        <h3>Academic Programs</h3>
        <div class="programs-grid" *ngIf="departmentPrograms.length > 0">
          <div class="program-card" *ngFor="let program of departmentPrograms">
            <div class="program-icon"><i class="pi pi-book"></i></div>
            <h5>{{ program.programName }}</h5>
          </div>
        </div>
        <p *ngIf="departmentPrograms.length === 0" class="text-muted">
          No programs available.
        </p>
      </div>
    </div>
    }

    <!-- Staff Section -->
    @if (currentSection.id === 'staff') {
    <div class="section-content">
      <div class="staff-content">
        <h3>Department Staff</h3>

        <!-- Department Leader -->
        <div class="leader-section" *ngIf="departmentLeader">
          <h4>Department Head</h4>
          <div class="leader-card">
            <div class="leader-avatar">
              <i class="pi pi-user"></i>
            </div>
            <div class="leader-info">
              <h5>{{ departmentLeader.memberName }}</h5>
              <span class="badge">Head of Department</span>
            </div>
          </div>
        </div>

        <!-- Staff Members -->
        <div class="members-section" *ngIf="departmentMembers.length > 0">
          <h4>Staff Members</h4>
          <div class="members-grid">
            <div
              class="member-card"
              *ngFor="let member of departmentMembers"
              [class.leader]="member.isLeader"
            >
              <div class="member-avatar">
                <i class="pi pi-user"></i>
              </div>
              <div class="member-info">
                <h5>{{ member.memberName }}</h5>
                <span class="badge" *ngIf="member.isLeader">Leader</span>
              </div>
            </div>
          </div>
        </div>

        <p *ngIf="departmentMembers.length === 0" class="text-muted">
          No staff members available.
        </p>
      </div>
    </div>
    }
  </div>
</div>
}

<div class="back-to-departments text-center mt-4">
  <button class="btn btn-primary btn-lg" (click)="goToDepartments()">
    <i class="pi pi-arrow-left me-2"></i>
    Back to Departments
  </button>
</div>
