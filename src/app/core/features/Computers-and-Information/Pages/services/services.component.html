<!-- Loading State -->
<div class="services-page" *ngIf="isLoading">
  <div class="container">
    <div class="page-header">
      <p-skeleton width="300px" height="2.5rem" styleClass="mb-3" />
      <p-skeleton width="500px" height="1.2rem" />
    </div>
    <div class="services-grid">
      <div class="service-card-skeleton" *ngFor="let i of [1, 2, 3, 4, 5, 6]">
        <p-skeleton shape="circle" size="60px" styleClass="mb-3" />
        <p-skeleton width="80%" height="1.5rem" styleClass="mb-2" />
        <p-skeleton width="100%" height="1rem" styleClass="mb-1" />
        <p-skeleton width="90%" height="1rem" />
      </div>
    </div>
  </div>
</div>

<!-- Error State -->
<div class="services-page" *ngIf="hasError && !isLoading">
  <div class="container">
    <div class="error-container">
      <i class="pi pi-exclamation-triangle error-icon"></i>
      <h2>Failed to load services</h2>
      <p>Please try again later.</p>
    </div>
  </div>
</div>

<!-- Content State -->
<div class="services-page" *ngIf="!isLoading && !hasError">
  <div class="container">
    <!-- Page Header -->
    <div class="page-header">
      <h1>Faculty Services</h1>
      <p>
        Explore the various services offered by the Faculty of Computers and
        Information
      </p>
    </div>

    <!-- Services Grid -->
    <div
      class="services-grid row justify-content-center"
      *ngIf="!selectedService"
    >
      <div
        class="col-12 col-md-6 col-lg-3 d-flex mb-3"
        *ngFor="let service of allServices"
      >
        <div class="service-card w-100" (click)="selectService(service)">
          <div class="service-icon">
            <i [class]="getIconClass(service.iconPath)"></i>
          </div>

          <h3 class="service-title">{{ service.title }}</h3>

          <p class="service-description">
            {{ service.description }}
          </p>

          <span class="learn-more">
            Learn More <i class="pi pi-arrow-right"></i>
          </span>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div
      class="empty-state"
      *ngIf="allServices.length === 0 && !selectedService"
    >
      <i class="pi pi-inbox"></i>
      <h3>No services available</h3>
      <p>Check back later for updates.</p>
    </div>

    <!-- Service Detail View -->
    <div class="service-detail" *ngIf="selectedService">
      <div class="detail-header">
        <button class="back-btn" (click)="clearSelection()">
          <i class="pi pi-arrow-left"></i>
          Back to Services
        </button>
      </div>

      <div class="detail-content">
        <div class="detail-icon">
          <i [class]="getIconClass(selectedService.iconPath)"></i>
        </div>
        <h2 class="detail-title">{{ selectedService.title }}</h2>
        <div class="detail-description">
          <p>{{ selectedService.description }}</p>
        </div>

        <div class="status-badge" [class.active]="selectedService.isActive">
          <i
            class="pi"
            [class.pi-check-circle]="selectedService.isActive"
            [class.pi-times-circle]="!selectedService.isActive"
          ></i>
          {{ selectedService.isActive ? "Active Service" : "Inactive Service" }}
        </div>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
